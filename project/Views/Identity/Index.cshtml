@model System.Collections.Generic.List<lab1.Models.EmployeeView>
@{
    string title = (string) ViewData["Title"];

    Layout = "_LoginLayout.cshtml";
}

<div class="text-center">
    <h1 class="display-4">@title</h1>
    <h3>Choose your user</h3>
</div>


@if(Model is not null && Model.Count() > 0)
{

    <div class="container p-3">  
        <table class="table table-bordered table-striped" stype="width:100%">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Surname</th>
                </tr>
            </thead>
            <tbody>
                @foreach (EmployeeView employee in Model)
                {

                    <tr>
                        <td width="5%">@employee.id</td>
                        <td width="25%">@employee.name</td>
                        <td width="25%">@employee.surname</td>
                        <td width="1%">
                            <button class="btn btn-info" style="margin-left: 5px" onclick="submitLogin(event, @employee.id)">Login</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}else{
    <p>No data</p>
}
<div style="text-align: center;">
    <h3 style="margin: auto;">password</h3>
    <input style="margin: auto;" type="text" id="password-input">
</div>

@section Scripts{
    <script>
        function submitLogin(event, id){
            password = document.getElementById("password-input").value

            document.getElementById("post-id").value = id
            document.getElementById("post-password").value = password
            document.getElementById("post-form").submit();
        }
    </script>
}

<form id="post-form" hidden asp-action="Login" method="post">
    <input id="post-id"name="id">
    <input id="post-password" name="password">
</form>
